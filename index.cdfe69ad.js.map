{"mappings":"AAAA,MAAMA,EAAOC,SAASC,cAAc,SAE9BC,GADcF,SAASC,cAAc,iBACxBD,SAASC,cAAc,iBAC1C,IAAIE,EACAC,EAAO,EACX,MAAMC,EAAUL,SAASC,cAAc,QACvC,IACIK,GAAU,EAYdC,eAAeC,EAAUC,EAAQC,GAC7B,MAAMC,OAZOJ,OAAOK,EAAQC,KAC5B,IACA,MAAMC,QAAiBC,MAAM,sEAAsEH,UAAeC,wDAC5GG,QAAeF,EAASG,OAE9B,OADAC,QAAQC,IAAIH,GACLA,C,CACL,MAAOI,GACTF,QAAQC,IAAIC,EAAMC,Q,GAKCC,CAASb,EAAQC,GACjCJ,IACCiB,MAAM,eAACZ,EAAAa,uBACMb,EAAKa,UAjBZ,IAkBQnB,EAAQoB,UAAUC,OAAO,SAG9Bf,EAAKa,UArBR,IAqB6Bd,GACzBL,EAAQoB,UAAUE,IAAI,QAqB9B,SAAgBhB,GACZ,MAAMiB,EAASjB,EAAKkB,KAAKC,GACd,YAAYA,EAAIC,kBAE3BhC,EAAKiC,mBAAmB,YAAaJ,EAAOK,KAAK,I,CAvBjDC,CAAOvB,EAAKwB,K,CAGhB9B,EAAQ+B,iBAAiB,SACzB,WACI9B,GAAU,EACVF,IACAI,EAAUL,EAAQC,E,IAEtBF,EAAWkC,iBAAiB,UAC5B7B,eAAwB8B,GACpBA,EAAEC,iBACFlC,EAAO,EACPC,EAAQoB,UAAUC,OAAO,QACzBvB,EAASkC,EAAEE,OAAOC,SAASC,OAAOC,MAClC3C,EAAK4C,UAAY,GACjBrC,GAAU,QACJE,EAAUL,EAAQ,E","sources":["src/index.js"],"sourcesContent":["const wrap = document.querySelector(\".wrap\")\nconst searchInput = document.querySelector(\".search_input\")\nconst searchForm = document.querySelector(\".search_form\")\nlet search;\nlet page = 1\nconst moreBtn = document.querySelector(\".add\")\nlet perPage = 12\nlet isFirst = true\nconst fetchUrl = async (search, page) => {\n    try {\n    const response = await fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${search}&page=${page}&per_page=${perPage}&key=43135945-0fa309f6e906fbaa5e36dac33`);\n    const images = await response.json();\n    console.log(images);\n    return images\n    } catch (error) {\n    console.log(error.message);\n    }\n    };\n    \nasync function getImages(search, page){\n    const data = await fetchUrl(search, page)\n    if(isFirst){\n        alert(`Ви отримали ${data.totalHits} зображень`)\n        if(data.totalHits > perPage){\n            moreBtn.classList.remove(\"hide\") \n        }\n    }\n    if(data.totalHits/perPage <= page){\n        moreBtn.classList.add(\"hide\")\n    }\n    MarkUp(data.hits)\n}\n\nmoreBtn.addEventListener(\"click\",addPages)\nfunction addPages() {\n    isFirst = false\n    page ++\n    getImages(search, page)\n}\nsearchForm.addEventListener(\"submit\", onSearch)\nasync function onSearch(e){\n    e.preventDefault()\n    page = 1\n    moreBtn.classList.remove(\"hide\")\n    search = e.target.elements.search.value\n    wrap.innerHTML = \"\"\n    isFirst = true\n    await getImages(search, 1)\n}\nfunction MarkUp(data){\n    const markUp = data.map((obj) => {\n        return `<img src=${obj.webformatURL}>`\n    })\n    wrap.insertAdjacentHTML(\"beforeend\", markUp.join(\"\"))\n}"],"names":["$1f0dc3b9307be026$var$wrap","document","querySelector","$1f0dc3b9307be026$var$searchForm","$1f0dc3b9307be026$var$search","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$moreBtn","$1f0dc3b9307be026$var$isFirst","async","$1f0dc3b9307be026$var$getImages","search2","page2","data","search1","page1","response","fetch","images","json","console","log","error","message","$1f0dc3b9307be026$var$fetchUrl","alert","totalHits","classList","remove","add","markUp","map","obj","webformatURL","insertAdjacentHTML","join","$1f0dc3b9307be026$var$MarkUp","hits","addEventListener","e","preventDefault","target","elements","search","value","innerHTML"],"version":3,"file":"index.cdfe69ad.js.map"}